#
# rpimonitord configuration file
#
# # comments ignored by rpimonitord
#

#
# Configuration of rpimonitord parameters
# key=value
#

# Define the address used by the web server (default:0.0.0.0)
addr=0.0.0.0

# Define port of the web server (default:8888)
port=8888

# Define that rpimonitor shouldn't start web server (default:0)
noserver=0

# Define the delay between 2 kpi pooling (default:10)
# Note: If you want to change the default delay, the rrd file will have
# to be deleted rpimonitord will recreate them at next startup
delay=10

# Define user used to run the server process (default:pi)
# Note: If user is not existing, process will run with uid=1000
user=pi

# Define group used to run the server process (default:pi)
# Note: If group is not existing, process will run with gid=1000
group=pi

# Define the root directory of the web server (Default:web)
webroot=web

# Define the statistic directory within the webroot (Default:stat) 
statdir=stat

#
# Configuration of KPI
# [section]
# kpi0,kpi1,...,kpiN=source=regexp
#
# Values of sections are stored in section.rrd files.
#
# If the source is an existing file, then regexp will be applied on the
# content of the file.
# If the source is not existing, rpimonitor will execute the source and
# apply the Regexp on STDOUT
#

# Data that are not changing over the time
firmware_version=./vcgencmd version=version (\S+)
kernel_version=/proc/version_signature=(.*)
memory_total=/proc/meminfo=MemTotal:\s+(\d+)
swap_total=/proc/meminfo=SwapTotal:\s+(\d+)
sdcard_root_total=df -t ext4=slash\s+(\d+)
sdcard_home_total=df -t ext4=home\s+(\d+)
sdcard_boot_total=df -t ext4=sda2\s+(\d+)

# Network data
[network]
net_recived=/sys/class/net/eth0/statistics/rx_bytes=(.*)
net_send=/sys/class/net/eth0/statistics/tx_bytes=(.*)

# CPU load
[cpuload]
load1,load5,load15=/proc/loadavg=^(\S+)\s(\S+)\s(\S+)

# CPU Frequency
[cpufrequency]
cpu_frequency=/sys/devices/system/cpu/cpu0/cpufreq/scaling_cur_freq=(.*)
#     /sys/devices/system/cpu/cpu0/cpufreq/scaling_min_freq
#     /sys/devices/system/cpu/cpu0/cpufreq/scaling_max_freq
#     /sys/devices/system/cpu/cpu0/cpufreq/scaling_governor

# Disk usage
[disk]
sdcard_root_free=df -t ext4=slash\s+\d+\s+\d+\s+(\d+)
sdcard_home_free=df -t ext4=home\s+\d+\s+\d+\s+(\d+)
sdcard_boot_free=df -t ext4=slash\s+\d+\s+\d+\s+(\d+)
swap_free=/proc/meminfo=SwapFree:\s+(\d+)

# Memory usage
[memory]
memory_free=/proc/meminfo=MemFree:\s+(\d+)

# Internal temperature
[temperature]
soc_temp=/sys/devices/virtual/thermal/thermal_zone0/temp=(.*)

# uptime
[uptime]
uptime=/proc/uptime=^(\S+)
